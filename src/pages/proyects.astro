---
import Layout from "../layouts/Layout.astro"
import NextJS from "../components/icons/NextJs.astro"
import Tailwind from "../components/icons/Tailwind.astro"
import Solidity from "../components/icons/Solidity.astro"
import Foundry from "../components/icons/Foundry.astro"
import LinkButton from "../components/LinkButton.astro"
import GitHub from "../components/icons/Github.astro"
import Link from "../components/icons/Link.astro"
import Python from "../components/icons/Python.astro"
import Vyper from "../components/icons/Vyper.astro"

const TAGS = {
  NEXT: {
    name: "Next.js",
    class: "bg-black text-white",
    icon: NextJS,
  },
  TAILWIND: {
    name: "Tailwind CSS",
    class: "bg-[#003159] text-white",
    icon: Tailwind,
  },
  SOLIDITY: {
    name: "Solidity",
    class: "bg-white text-black",
    icon: Solidity,
  },
  FOUNDRY: {
    name: "Foundry",
    class: "bg-[#FA8016] text-black",
    icon: Foundry,
  },
  PYTHON: {
    name: "Python",
    class: "bg-[#1e415e] text-white",
    icon: Python,
  },
  VYPER: {
    name: "Vyper",
    class: "bg-[#f8f5ee] text-black",
    icon: Vyper,
  },
}

const PROJECTS = [
  {
    title: "RWA Exchange",
    role: "Tokenized real-world assets · DeFi",
    description:
      "Decentralized exchange for tokenized real-world assets (e.g. stocks) using USDT as settlement. On-chain AssetPool coordinates mint/redeem of tokens backed by an off-chain broker via Chainlink Functions and the Alpaca API.",
    image: "images/RWA-Exchange.png",
    githubFrontend: "https://github.com/Raulioui/RWA-DEX-Frontend",
    githubBackend: "https://github.com/Raulioui/RWA-DEX",
    tags: [TAGS.SOLIDITY, TAGS.FOUNDRY, TAGS.NEXT, TAGS.TAILWIND, TAGS.PYTHON],
  },
  {
    title: "CrossLink",
    role: "Cross-chain lending · CCIP",
    description:
      "No-oracle borrowing and lending protocol using Chainlink CCIP to coordinate cross-chain positions. Focused on protocol design, liquidation flows and safe messaging between chains instead of relying on traditional price oracles.",
    image: "images/CrossLink.png",
    githubBackend: "https://github.com/Raulioui/CrossLink",
    tags: [TAGS.SOLIDITY, TAGS.FOUNDRY],
  },
  {
    title: "Merkle Airdrop",
    role: "Gas-efficient distribution",
    description:
      "ERC20 token airdrop using Merkle trees and signature verification for claims. Designed to reduce on-chain storage and gas costs while preserving a clear audit trail of allocations.",
    image: "images/Airdrop.png",
    githubBackend: "https://github.com/Raulioui/Merkle-Airdrop",
    tags: [TAGS.SOLIDITY, TAGS.FOUNDRY],
  },
  {
    title: "Vyper Stablecoin",
    role: "Protocol fundamentals in Vyper",
    description:
      "Simple stablecoin prototype written in Vyper to explore ERC20 mechanics, collateralized minting and basic protocol invariants in a different smart contract language.",
    githubBackend: "https://github.com/Raulioui/Vyper-Stablecoin",
    image: "images/Vyper-Stablecoin.png",
    tags: [TAGS.PYTHON, TAGS.VYPER],
  },
]
---

<Layout link="proyects" title="Projects – Raul Muela Morey">
  <main class="max-w-6xl mx-auto mt-24 px-6 pb-24">
    <header class="mb-10">
      <p class="text-xs font-semibold uppercase tracking-[0.25em] text-slate-400">
        Selected work
      </p>
      <h1 class="mt-2 text-3xl lg:text-4xl font-bold text-white">
        Blockchain projects
      </h1>
      <p class="mt-3 max-w-2xl text-sm lg:text-base text-slate-400">
        A selection of smart contract and DeFi projects I’ve built recently.
        Each one is focused on a specific part of the stack: protocol design,
        cross-chain messaging, gas-efficient token mechanics or experimenting
        with new languages and tooling.
      </p>
    </header>

    <section class="space-y-10">
      {PROJECTS.map(({ image, title, role, description, tags, link, githubFrontend, githubBackend }) => (
        <article class="group flex flex-col lg:flex-row gap-6 lg:gap-10 rounded-2xl border border-slate-800 bg-[#050816]/60 p-4 lg:p-6 shadow-lg shadow-black/40 transition-transform duration-200 hover:-translate-y-1 hover:border-slate-600">
          <div class="w-full lg:w-[320px] shrink-0">
            <div class="relative overflow-hidden rounded-xl border border-slate-800/70 bg-black/60">
              <img
                loading="lazy"
                class="h-48 w-full object-cover"
                src={image}
                alt={title}
              />
            </div>
          </div>

          <div class="flex flex-1 flex-col justify-between">
            <div>
              <h3 class="text-xl lg:text-2xl font-semibold text-white">
                {title}
              </h3>

              {role && (
                <p class="mt-1 text-xs font-medium uppercase tracking-[0.2em] text-slate-400">
                  {role}
                </p>
              )}

              <div class="mt-3 flex flex-wrap gap-2">
                {tags.map((tag) => (
                  <span class={`inline-flex items-center gap-2 rounded-full text-[11px] ${tag.class} py-1 px-3`}>
                    <tag.icon class="size-4" />
                    {tag.name}
                  </span>
                ))}
              </div>

              <p class="mt-4 text-sm lg:text-base text-slate-300">
                {description}
              </p>
            </div>

            <footer class="mt-4 flex flex-wrap gap-3">
              {githubFrontend && (
                <LinkButton href={githubFrontend}>
                  <GitHub class="size-4" />
                  Frontend
                </LinkButton>
              )}
              {githubBackend && (
                <LinkButton href={githubBackend}>
                  <GitHub class="size-4" />
                  Backend
                </LinkButton>
              )}
              {link && (
                <LinkButton href={link}>
                  <Link class="size-4" />
                  Live demo
                </LinkButton>
              )}
            </footer>
          </div>
        </article>
      ))}
    </section>
  </main>
</Layout>
